<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home" text="Back" color="light"></ion-back-button>
    </ion-buttons>
    <ion-title>Scan QR Peserta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Container untuk QR Scanner, selalu ada tapi hidden saat tidak scanning -->
  <div id="reader" [class.hidden]="!isScanning"></div>

  <div *ngIf="!isScanning" class="scan-container">
    <ion-icon name="qr-code-outline" class="qr-icon"></ion-icon>
    <h2>Scan QR Code Peserta</h2>
    <p>Arahkan kamera ke QR code peserta untuk mencatat kehadiran</p>
    <ion-button expand="block" (click)="startScan()">
      <ion-icon name="scan-outline" slot="start"></ion-icon>
      Mulai Scan
    </ion-button>
  </div>

  <div *ngIf="isScanning" class="scan-controls">
    <ion-button expand="block" color="danger" (click)="stopScan()" class="stop-button">
      <ion-icon name="close-outline" slot="start"></ion-icon>
      Berhenti Scan
    </ion-button>
  </div>
</ion-content> 